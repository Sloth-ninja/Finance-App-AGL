<html lang="en"><head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fee Allocation Review - Finance Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
<style>
@keyframes fadeInUp {
from { opacity: 0; transform: translateY(30px); }
to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeInLeft {
from { opacity: 0; transform: translateX(-30px); }
to { opacity: 1; transform: translateX(0); }
}
@keyframes slideDown {
from { opacity: 0; transform: translateY(-20px); }
to { opacity: 1; transform: translateY(0); }
}
@keyframes scaleIn {
from { opacity: 0; transform: scale(0.8); }
to { opacity: 1; transform: scale(1); }
}
.animate-fade-in-up { animation: fadeInUp 0.8s ease-out forwards; }
.animate-fade-in-left { animation: fadeInLeft 0.8s ease-out forwards; }
.animate-slide-down { animation: slideDown 0.6s ease-out forwards; }
.animate-scale-in { animation: scaleIn 0.6s ease-out forwards; }
.glass-effect {
background: rgba(255, 255, 255, 0.95);
backdrop-filter: blur(20px);
-webkit-backdrop-filter: blur(20px);
}
.opacity-0 { opacity: 0; }
.delay-100 { animation-delay: 0.1s; }
.delay-200 { animation-delay: 0.2s; }
.delay-300 { animation-delay: 0.3s; }
.delay-400 { animation-delay: 0.4s; }
.delay-500 { animation-delay: 0.5s; }
.editable-cell {
cursor: text;
transition: all 0.2s ease;
}
.editable-cell:hover {
background: rgba(59, 130, 246, 0.05);
}
.editable-cell.editing {
background: white;
box-shadow: inset 0 0 0 2px #3b82f6;
border-radius: 4px;
}
.error-row {
background: rgba(239, 68, 68, 0.05);
border-left: 4px solid #ef4444;
}
.warning-row {
background: rgba(245, 158, 11, 0.05);
border-left: 4px solid #f59e0b;
}
.valid-row {
background: rgba(34, 197, 94, 0.02);
}
.validated-row {
background: rgba(34, 197, 94, 0.05);
border-left: 4px solid #22c55e;
}
.status-error { background: rgba(239, 68, 68, 0.1); color: #991b1b; border: 1px solid rgba(239, 68, 68, 0.2); }
.status-warning { background: rgba(245, 158, 11, 0.1); color: #92400e; border: 1px solid rgba(245, 158, 11, 0.2); }
.status-valid { background: rgba(34, 197, 94, 0.1); color: #166534; border: 1px solid rgba(34, 197, 94, 0.2); }
.status-validated { background: rgba(34, 197, 94, 0.15); color: #166534; border: 1px solid rgba(34, 197, 94, 0.3); }
.filter-pill {
background: rgba(255, 255, 255, 0.9);
border: 1px solid rgba(229, 231, 235, 0.8);
transition: all 0.2s ease;
}
.filter-pill.active {
background: #3b82f6;
color: white;
border-color: #3b82f6;
}
.fix-all-btn {
background: linear-gradient(135deg, #f59e0b, #f97316);
color: white;
transition: all 0.3s ease;
}
.fix-all-btn:hover {
background: linear-gradient(135deg, #f97316, #ea580c);
transform: translateY(-1px);
box-shadow: 0 10px 25px rgba(245, 158, 11, 0.4);
}
.tab-button {
transition: all 0.3s ease;
}
.tab-button.active {
background: white;
color: #3b82f6;
box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}
.split-card {
background: rgba(255, 255, 255, 0.9);
border: 1px solid rgba(229, 231, 235, 0.8);
transition: all 0.3s ease;
}
.split-card:hover {
border-color: rgba(59, 130, 246, 0.3);
box-shadow: 0 10px 25px rgba(59, 130, 246, 0.1);
}
.discrepancy-warning {
background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(239, 68, 68, 0.1));
border: 2px solid rgba(245, 158, 11, 0.3);
animation: pulse 2s infinite;
}
.discrepancy-match {
background: linear-gradient(135deg, rgba(34, 197, 94, 0.05), rgba(16, 185, 129, 0.05));
border: 2px solid rgba(34, 197, 94, 0.2);
}
.split-total-card {
background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(139, 92, 246, 0.05));
border: 2px solid rgba(99, 102, 241, 0.2);
}
@keyframes pulse {
0%, 100% { opacity: 1; }
50% { opacity: 0.8; }
}
</style></head>
<body class="font-inter h-full bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50">

<!-- Sidebar -->
<aside class="opacity-0 animate-fade-in-left fixed z-30 inset-y-0 left-0 w-16 md:w-20 glass-effect flex flex-col transition-all duration-500 border-r pt-6 pb-6 shadow-2xl items-center">
    <div class="flex flex-col space-y-8">
        <div class="w-10 h-10 rounded-xl flex items-center justify-center font-semibold text-sm tracking-tight bg-gradient-to-br from-indigo-600 to-purple-600 text-white shadow-lg">
            FIN
        </div>
        <button class="p-3 rounded-xl transition-all duration-300 text-gray-400 hover:text-indigo-600 hover:bg-white/50 hover:shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="home" class="lucide lucide-home w-5 h-5" style="stroke-width: 1.5;"><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"></path><path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path></svg>
        </button>
        <button class="p-3 rounded-xl transition-all duration-300 text-indigo-600 bg-white/80 shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="calculator" class="lucide lucide-calculator w-5 h-5" style="stroke-width: 1.5;"><rect width="16" height="20" x="4" y="2" rx="2"></rect><line x1="8" x2="16" y1="6" y2="6"></line><line x1="16" x2="16" y1="14" y2="18"></line><path d="M16 10h.01"></path><path d="M12 10h.01"></path><path d="M8 10h.01"></path><path d="M12 14h.01"></path><path d="M8 14h.01"></path><path d="M12 18h.01"></path><path d="M8 18h.01"></path></svg>
        </button>
        <button class="p-3 rounded-xl transition-all duration-300 text-gray-400 hover:text-indigo-600 hover:bg-white/50 hover:shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="bar-chart-3" class="lucide lucide-bar-chart-3 w-5 h-5" style="stroke-width: 1.5;"><path d="M3 3v16a2 2 0 0 0 2 2h16"></path><path d="M18 17V9"></path><path d="M13 17V5"></path><path d="M8 17v-3"></path></svg>
        </button>
        <button class="p-3 rounded-xl transition-all duration-300 text-gray-400 hover:text-indigo-600 hover:bg-white/50 hover:shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="users" class="lucide lucide-users w-5 h-5" style="stroke-width: 1.5;"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><path d="M16 3.128a4 4 0 0 1 0 7.744"></path><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><circle cx="9" cy="7" r="4"></circle></svg>
        </button>
    </div>
    <div class="mt-auto">
        <button class="p-3 rounded-xl transition-all duration-300 text-gray-400 hover:text-indigo-600 hover:bg-white/50 hover:shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="settings" class="lucide lucide-settings w-5 h-5" style="stroke-width: 1.5;"><path d="M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"></path><circle cx="12" cy="12" r="3"></circle></svg>
        </button>
    </div>
</aside>

<!-- Main Content -->
<main class="md:ml-20 min-h-screen ml-16">
    <div class="max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-6">
        
        <!-- Header -->
        <header class="animate-slide-down delay-100 flex flex-col lg:flex-row lg:items-center justify-between mb-8">
            <div class="">
                <div class="flex items-center space-x-3 mb-2">
                    <h1 class="text-3xl lg:text-4xl font-semibold tracking-tight bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent">
                        Fee Allocation Review
                    </h1>
                    
                </div>
                <p class="text-gray-500 font-medium">
                    Review and validate fee allocation report â€¢ Uploaded: Nov 15, 2024 at 2:34 PM
                </p>
            </div>
            <div class="flex items-center space-x-4 mt-6 lg:mt-0">
                <button class="px-6 py-3 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 rounded-2xl hover:from-gray-200 hover:to-gray-300 transition-all duration-300 flex items-center space-x-2 shadow-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="upload" class="lucide lucide-upload w-5 h-5" style="stroke-width: 1.5;"><path d="M12 3v12"></path><path d="m17 8-5-5-5 5"></path><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path></svg>
                    <span>Upload New Report</span>
                </button>
                <button class="px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-2xl hover:from-green-700 hover:to-emerald-700 transition-all duration-300 flex items-center space-x-2 shadow-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="check-circle" class="lucide lucide-check-circle w-5 h-5" style="stroke-width: 1.5;"><path d="M21.801 10A10 10 0 1 1 17 3.335"></path><path d="m9 11 3 3L22 4"></path></svg>
                    <span>Export Validated</span>
                </button>
            </div>
        </header>

        <!-- Tab Navigation -->
        <div class="animate-fade-in-up delay-200 mb-8">
            <div class="glass-effect rounded-2xl p-2 shadow-lg border border-white/20">
                <div class="flex space-x-2">
                    <button onclick="switchTab('validation')" id="validation-tab" class="tab-button active px-6 py-3 rounded-xl font-medium text-sm transition-all duration-300 flex items-center space-x-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="check-square" class="lucide lucide-check-square w-4 h-4" style="stroke-width: 1.5;"><path d="M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344"></path><path d="m9 11 3 3L22 4"></path></svg>
                        <span class="">Validation Review</span>
                    </button>
                    <button onclick="switchTab('split-audit')" id="split-audit-tab" class="tab-button px-6 py-3 rounded-xl font-medium text-sm text-gray-600 hover:text-gray-900 transition-all duration-300 flex items-center space-x-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="pie-chart" class="lucide lucide-pie-chart w-4 h-4" style="stroke-width: 1.5;"><path d="M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z"></path><path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path></svg>
                        <span>Split Audit</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Validation Tab Content -->
        <div id="validation-content" class="tab-content">
            <!-- Validation Summary Cards -->
            <div class="animate-fade-in-up delay-200 mb-8">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                    <div class="glass-effect rounded-2xl p-6 shadow-lg border border-white/20">
                        <div class="flex items-center justify-between mb-3">
                            <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="file-text" class="lucide lucide-file-text w-6 h-6 text-white" style="stroke-width: 1.5;"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M10 9H8"></path><path d="M16 13H8"></path><path d="M16 17H8"></path></svg>
                            </div>
                            <span class="text-2xl font-semibold text-gray-900">247</span>
                        </div>
                        <div class="text-sm text-gray-600 mb-2">Total Records</div>
                        <div class="text-xs text-gray-500">From uploaded report</div>
                    </div>

                    <div class="glass-effect rounded-2xl p-6 shadow-lg border border-red-200 bg-gradient-to-br from-red-50 to-red-100">
                        <div class="flex items-center justify-between mb-3">
                            <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="alert-circle" class="lucide lucide-alert-circle w-6 h-6 text-white" style="stroke-width: 1.5;"><circle cx="12" cy="12" r="10"></circle><line x1="12" x2="12" y1="8" y2="12"></line><line x1="12" x2="12.01" y1="16" y2="16"></line></svg>
                            </div>
                            <span class="text-2xl font-semibold text-red-700">18</span>
                        </div>
                        <div class="text-sm text-red-700 mb-2">Critical Errors</div>
                        <div class="text-xs text-red-600">Must fix before export</div>
                    </div>

                    <div class="glass-effect rounded-2xl p-6 shadow-lg border border-amber-200 bg-gradient-to-br from-amber-50 to-amber-100">
                        <div class="flex items-center justify-between mb-3">
                            <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="alert-triangle" class="lucide lucide-alert-triangle w-6 h-6 text-white" style="stroke-width: 1.5;"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg>
                            </div>
                            <span class="text-2xl font-semibold text-amber-700">31</span>
                        </div>
                        <div class="text-sm text-amber-700 mb-2">Warnings</div>
                        <div class="text-xs text-amber-600">Review recommended</div>
                    </div>

                    <div class="glass-effect rounded-2xl p-6 shadow-lg border border-green-200 bg-gradient-to-br from-green-50 to-green-100">
                        <div class="flex items-center justify-between mb-3">
                            <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="check-circle" class="lucide lucide-check-circle w-6 h-6 text-white" style="stroke-width: 1.5;"><path d="M21.801 10A10 10 0 1 1 17 3.335"></path><path d="m9 11 3 3L22 4"></path></svg>
                            </div>
                            <span class="text-2xl font-semibold text-green-700">198</span>
                        </div>
                        <div class="text-sm text-green-700 mb-2">Validated</div>
                        <div class="text-xs text-green-600">Ready for processing</div>
                    </div>
                </div>
            </div>

            <!-- Fix All Workflow -->
            <div class="animate-fade-in-up delay-300 mb-8">
                <div class="glass-effect rounded-2xl p-6 shadow-lg border border-white/20">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="zap" class="lucide lucide-zap w-6 h-6 text-white" style="stroke-width: 1.5;"><path d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"></path></svg>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold text-gray-900">Quick Fix Workflow</h3>
                                <p class="text-sm text-gray-600">Automatically resolve common validation issues</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="flex items-center space-x-2 text-sm text-gray-600">
                                <span>49 issues can be auto-fixed</span>
                            </div>
                            <button onclick="showFixAllModal()" class="fix-all-btn px-6 py-3 rounded-xl font-medium shadow-lg flex items-center space-x-2">
                                <i data-lucide="magic-wand" class="w-5 h-5" style="stroke-width: 1.5;"></i>
                                <span>Fix All Issues</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Filters and Controls -->
            <div class="animate-fade-in-up delay-400 mb-8">
                <div class="glass-effect rounded-2xl p-6 shadow-lg border border-white/20">
                    <div class="flex flex-col lg:flex-row lg:items-center justify-between space-y-4 lg:space-y-0">
                        <div class="flex flex-wrap items-center gap-3">
                            <span class="text-sm font-medium text-gray-700">Show:</span>
                            <button onclick="filterTable('all')" class="filter-pill active px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300" id="filter-all">
                                All Records (247)
                            </button>
                            <button onclick="filterTable('errors')" class="filter-pill px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300" id="filter-errors">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="alert-circle" class="lucide lucide-alert-circle w-4 h-4 mr-1" style="stroke-width: 1.5;"><circle cx="12" cy="12" r="10"></circle><line x1="12" x2="12" y1="8" y2="12"></line><line x1="12" x2="12.01" y1="16" y2="16"></line></svg>
                                Errors (18)
                            </button>
                            <button onclick="filterTable('warnings')" class="filter-pill px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300" id="filter-warnings">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="alert-triangle" class="lucide lucide-alert-triangle w-4 h-4 mr-1" style="stroke-width: 1.5;"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg>
                                Warnings (31)
                            </button>
                            <button onclick="filterTable('validated')" class="filter-pill px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300" id="filter-validated">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="check-circle" class="lucide lucide-check-circle w-4 h-4 mr-1" style="stroke-width: 1.5;"><path d="M21.801 10A10 10 0 1 1 17 3.335"></path><path d="m9 11 3 3L22 4"></path></svg>
                                Validated (198)
                            </button>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="relative">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="search" class="lucide lucide-search absolute left-3 top-3 w-4 h-4 text-gray-400" style="stroke-width: 1.5;"><path d="m21 21-4.34-4.34"></path><circle cx="11" cy="11" r="8"></circle></svg>
                                <input type="text" placeholder="Search records..." class="pl-10 pr-4 py-2.5 w-64 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm">
                            </div>
                            <button class="px-4 py-2.5 bg-gray-100 text-gray-600 rounded-xl hover:bg-gray-200 transition-colors duration-300 flex items-center space-x-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="filter" class="lucide lucide-filter w-4 h-4" style="stroke-width: 1.5;"><path d="M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z"></path></svg>
                                <span>Advanced Filters</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Fee Allocation Table -->
            <div class="animate-fade-in-up delay-500 glass-effect rounded-3xl shadow-xl border border-white/20 overflow-hidden">
                <div class="px-6 py-4 border-b border-gray-100 flex items-center justify-between">
                    <h3 class="text-lg font-semibold text-gray-900">Fee Allocation Records</h3>
                    <div class="flex items-center space-x-3">
                        <span class="text-sm text-gray-500">Showing 1-10 of 247 records</span>
                        <button class="p-2 rounded-lg hover:bg-gray-100 transition-colors duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="more-horizontal" class="lucide lucide-more-horizontal w-4 h-4 text-gray-500" style="stroke-width: 1.5;"><circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle></svg>
                        </button>
                    </div>
                </div>
                
                <div class="overflow-x-auto">
                    <table class="w-full" id="feeAllocationTable">
                        <thead class="bg-gray-50/50 sticky top-0">
                            <tr>
                                <th class="px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider w-20">Status</th>
                                <th class="px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">Partner</th>
                                <th class="px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">Client</th>
                                <th class="px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">Matter</th>
                                <th class="px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">Invoice #</th>
                                <th class="px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">Invoice Amount</th>
                                <th class="px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">Fee Split %</th>
                                <th class="px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">Allocation Amount</th>
                                <th class="px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">Responsible</th>
                                <th class="px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">Originating</th>
                                <th class="px-4 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">Payment Type</th>
                                <th class="px-4 py-4 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider w-28">Validated</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100">
                            <!-- Sample rows with truncated content for space -->
                            <tr class="error-row" data-status="error" data-record-id="1">
                                <td class="px-4 py-4">
                                    <span class="status-error inline-flex items-center px-2 py-1 rounded-full text-xs font-medium">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="alert-circle" class="lucide lucide-alert-circle w-3 h-3 mr-1" style="stroke-width: 2;"><circle cx="12" cy="12" r="10"></circle><line x1="12" x2="12" y1="8" y2="12"></line><line x1="12" x2="12.01" y1="16" y2="16"></line></svg>
                                        Error
                                    </span>
                                </td>
                                <td class="px-4 py-4 editable-cell" data-field="partner" data-record="1" onclick="editCell(this)">
                                    <span class="text-red-600 font-medium">Unassigned</span>
                                </td>
                                <td class="px-4 py-4">TechCorp Industries</td>
                                <td class="px-4 py-4">Patent Filing - Q4 2024</td>
                                <td class="px-4 py-4">INV-2024-3847</td>
                                <td class="px-4 py-4">$45,750.00</td>
                                <td class="px-4 py-4">125%</td>
                                <td class="px-4 py-4">$57,187.50</td>
                                <td class="px-4 py-4">Sarah Mitchell</td>
                                <td class="px-4 py-4">Unassigned</td>
                                <td class="px-4 py-4">Wire Transfer</td>
                                <td class="px-4 py-4 text-center">
                                    <input type="checkbox" class="form-checkbox h-4 w-4 text-indigo-600 rounded border-gray-300" disabled="">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Split Audit Tab Content -->
        <div id="split-audit-content" class="tab-content hidden">
            <!-- Split Audit Summary -->
            <div class="animate-fade-in-up delay-200 mb-8">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="glass-effect rounded-2xl p-6 shadow-lg border border-white/20">
                        <div class="flex items-center justify-between mb-3">
                            <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="file-text" class="lucide lucide-file-text w-6 h-6 text-white" style="stroke-width: 1.5;"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M10 9H8"></path><path d="M16 13H8"></path><path d="M16 17H8"></path></svg>
                            </div>
                            <span class="text-2xl font-semibold text-gray-900">89</span>
                        </div>
                        <div class="text-sm text-gray-600 mb-2">Invoices with Splits</div>
                        <div class="text-xs text-gray-500">Active split arrangements</div>
                    </div>

                    <div class="glass-effect rounded-2xl p-6 shadow-lg border border-red-200 bg-gradient-to-br from-red-50 to-red-100">
                        <div class="flex items-center justify-between mb-3">
                            <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="alert-triangle" class="lucide lucide-alert-triangle w-6 h-6 text-white" style="stroke-width: 1.5;"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg>
                            </div>
                            <span class="text-2xl font-semibold text-red-700">12</span>
                        </div>
                        <div class="text-sm text-red-700 mb-2">Split Discrepancies</div>
                        <div class="text-xs text-red-600">Totals don't match invoice</div>
                    </div>

                    <div class="glass-effect rounded-2xl p-6 shadow-lg border border-green-200 bg-gradient-to-br from-green-50 to-green-100">
                        <div class="flex items-center justify-between mb-3">
                            <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="check-circle" class="lucide lucide-check-circle w-6 h-6 text-white" style="stroke-width: 1.5;"><path d="M21.801 10A10 10 0 1 1 17 3.335"></path><path d="m9 11 3 3L22 4"></path></svg>
                            </div>
                            <span class="text-2xl font-semibold text-green-700">77</span>
                        </div>
                        <div class="text-sm text-green-700 mb-2">Balanced Splits</div>
                        <div class="text-xs text-green-600">Splits match invoice total</div>
                    </div>
                </div>
            </div>

            <!-- Split Audit Search and Filters -->
            <div class="animate-fade-in-up delay-300 mb-8">
                <div class="glass-effect rounded-2xl p-6 shadow-lg border border-white/20">
                    <div class="flex flex-col lg:flex-row lg:items-center justify-between space-y-4 lg:space-y-0">
                        <div class="flex flex-wrap items-center gap-3">
                            <span class="text-sm font-medium text-gray-700">Filter by:</span>
                            <button onclick="filterSplits('all')" class="filter-pill active px-4 py-2 rounded-xl text-sm font-medium" id="split-filter-all">
                                All Invoices (89)
                            </button>
                            <button onclick="filterSplits('discrepancies')" class="filter-pill px-4 py-2 rounded-xl text-sm font-medium" id="split-filter-discrepancies">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="alert-triangle" class="lucide lucide-alert-triangle w-4 h-4 mr-1" style="stroke-width: 1.5;"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg>
                                Discrepancies (12)
                            </button>
                            <button onclick="filterSplits('balanced')" class="filter-pill px-4 py-2 rounded-xl text-sm font-medium" id="split-filter-balanced">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="check-circle" class="lucide lucide-check-circle w-4 h-4 mr-1" style="stroke-width: 1.5;"><path d="M21.801 10A10 10 0 1 1 17 3.335"></path><path d="m9 11 3 3L22 4"></path></svg>
                                Balanced (77)
                            </button>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="relative">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="search" class="lucide lucide-search absolute left-3 top-3 w-4 h-4 text-gray-400" style="stroke-width: 1.5;"><path d="m21 21-4.34-4.34"></path><circle cx="11" cy="11" r="8"></circle></svg>
                                <input type="text" placeholder="Search by invoice or client..." class="pl-10 pr-4 py-2.5 w-64 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm">
                            </div>
                            <button class="px-4 py-2.5 bg-gray-100 text-gray-600 rounded-xl hover:bg-gray-200 transition-colors duration-300 flex items-center space-x-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="download" class="lucide lucide-download w-4 h-4" style="stroke-width: 1.5;"><path d="M12 15V3"></path><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><path d="m7 10 5 5 5-5"></path></svg>
                                <span>Export Report</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Split Audit Cards -->
            <div class="animate-fade-in-up delay-400 space-y-6">
                <!-- Invoice with Discrepancy -->
                <div class="split-card discrepancy-warning rounded-2xl p-6 shadow-lg">
                    <div class="flex items-start justify-between mb-4">
                        <div>
                            <div class="flex items-center space-x-3 mb-2">
                                <h3 class="text-lg font-semibold text-gray-900">INV-2024-4521</h3>
                                <span class="status-error inline-flex items-center px-2 py-1 rounded-full text-xs font-medium">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="alert-triangle" class="lucide lucide-alert-triangle w-3 h-3 mr-1" style="stroke-width: 2;"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg>
                                    Discrepancy
                                </span>
                            </div>
                            <p class="text-sm text-gray-600 mb-1">Client: Global Tech Solutions</p>
                            <p class="text-sm text-gray-600">Matter: M&amp;A Transaction - Q4 2024</p>
                        </div>
                        <div class="text-right">
                            <div class="text-lg font-semibold text-gray-900">$125,000.00</div>
                            <div class="text-sm text-gray-500">Invoice Total</div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                        <div class="split-total-card rounded-xl p-4">
                            <div class="text-center">
                                <div class="text-xl font-semibold text-indigo-700">$127,500.00</div>
                                <div class="text-sm text-indigo-600">Split Total</div>
                                <div class="text-xs text-red-600 mt-1">+$2,500 over</div>
                            </div>
                        </div>
                        <div class="bg-gray-50 rounded-xl p-4">
                            <div class="text-center">
                                <div class="text-xl font-semibold text-gray-700">4</div>
                                <div class="text-sm text-gray-600">Partners</div>
                            </div>
                        </div>
                        <div class="bg-gray-50 rounded-xl p-4">
                            <div class="text-center">
                                <div class="text-xl font-semibold text-gray-700">102%</div>
                                <div class="text-sm text-gray-600">Total Split %</div>
                            </div>
                        </div>
                    </div>

                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-3 bg-white rounded-lg border">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center">
                                    <span class="text-sm font-medium text-blue-700">JM</span>
                                </div>
                                <div>
                                    <div class="font-medium text-gray-900">James Morrison</div>
                                    <div class="text-sm text-gray-500">Lead Partner</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="font-semibold text-gray-900">$50,000.00</div>
                                <div class="text-sm text-gray-500">40%</div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-3 bg-white rounded-lg border">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center">
                                    <span class="text-sm font-medium text-green-700">SM</span>
                                </div>
                                <div>
                                    <div class="font-medium text-gray-900">Sarah Mitchell</div>
                                    <div class="text-sm text-gray-500">Senior Partner</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="font-semibold text-gray-900">$37,500.00</div>
                                <div class="text-sm text-gray-500">30%</div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-3 bg-white rounded-lg border">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center">
                                    <span class="text-sm font-medium text-purple-700">RJ</span>
                                </div>
                                <div>
                                    <div class="font-medium text-gray-900">Robert Johnson</div>
                                    <div class="text-sm text-gray-500">Associate</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="font-semibold text-gray-900">$25,000.00</div>
                                <div class="text-sm text-gray-500">20%</div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 rounded-full bg-red-100 flex items-center justify-center">
                                    <span class="text-sm font-medium text-red-700">EW</span>
                                </div>
                                <div>
                                    <div class="font-medium text-gray-900">Emily Watson</div>
                                    <div class="text-sm text-gray-500">Junior Associate</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="font-semibold text-red-700">$15,000.00</div>
                                <div class="text-sm text-red-600">12% (Over allocation)</div>
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center justify-between mt-6 pt-4 border-t border-gray-200">
                        <div class="flex items-center space-x-2 text-sm text-amber-700">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="alert-triangle" class="lucide lucide-alert-triangle w-4 h-4" style="stroke-width: 1.5;"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg>
                            <span>Split total exceeds invoice amount by $2,500</span>
                        </div>
                        <button class="px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors duration-300 flex items-center space-x-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="edit" class="lucide lucide-edit w-4 h-4" style="stroke-width: 1.5;"><path d="M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"></path></svg>
                            <span>Adjust Split</span>
                        </button>
                    </div>
                </div>

                <!-- Invoice with Balanced Split -->
                <div class="split-card discrepancy-match rounded-2xl p-6 shadow-lg">
                    <div class="flex items-start justify-between mb-4">
                        <div>
                            <div class="flex items-center space-x-3 mb-2">
                                <h3 class="text-lg font-semibold text-gray-900">INV-2024-4522</h3>
                                <span class="status-valid inline-flex items-center px-2 py-1 rounded-full text-xs font-medium">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="check-circle" class="lucide lucide-check-circle w-3 h-3 mr-1" style="stroke-width: 2;"><path d="M21.801 10A10 10 0 1 1 17 3.335"></path><path d="m9 11 3 3L22 4"></path></svg>
                                    Balanced
                                </span>
                            </div>
                            <p class="text-sm text-gray-600 mb-1">Client: Innovation Partners LLC</p>
                            <p class="text-sm text-gray-600">Matter: IP Licensing Agreement</p>
                        </div>
                        <div class="text-right">
                            <div class="text-lg font-semibold text-gray-900">$78,500.00</div>
                            <div class="text-sm text-gray-500">Invoice Total</div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                        <div class="split-total-card rounded-xl p-4">
                            <div class="text-center">
                                <div class="text-xl font-semibold text-green-700">$78,500.00</div>
                                <div class="text-sm text-green-600">Split Total</div>
                                <div class="text-xs text-green-600 mt-1">Perfect match</div>
                            </div>
                        </div>
                        <div class="bg-gray-50 rounded-xl p-4">
                            <div class="text-center">
                                <div class="text-xl font-semibold text-gray-700">3</div>
                                <div class="text-sm text-gray-600">Partners</div>
                            </div>
                        </div>
                        <div class="bg-gray-50 rounded-xl p-4">
                            <div class="text-center">
                                <div class="text-xl font-semibold text-gray-700">100%</div>
                                <div class="text-sm text-gray-600">Total Split %</div>
                            </div>
                        </div>
                    </div>

                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-3 bg-white rounded-lg border">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center">
                                    <span class="text-sm font-medium text-blue-700">DA</span>
                                </div>
                                <div>
                                    <div class="font-medium text-gray-900">David Anderson</div>
                                    <div class="text-sm text-gray-500">Managing Partner</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="font-semibold text-gray-900">$39,250.00</div>
                                <div class="text-sm text-gray-500">50%</div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-3 bg-white rounded-lg border">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center">
                                    <span class="text-sm font-medium text-green-700">LP</span>
                                </div>
                                <div>
                                    <div class="font-medium text-gray-900">Lisa Park</div>
                                    <div class="text-sm text-gray-500">Senior Associate</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="font-semibold text-gray-900">$23,550.00</div>
                                <div class="text-sm text-gray-500">30%</div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-3 bg-white rounded-lg border">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center">
                                    <span class="text-sm font-medium text-purple-700">TC</span>
                                </div>
                                <div>
                                    <div class="font-medium text-gray-900">Thomas Chen</div>
                                    <div class="text-sm text-gray-500">Associate</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="font-semibold text-gray-900">$15,700.00</div>
                                <div class="text-sm text-gray-500">20%</div>
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center justify-between mt-6 pt-4 border-t border-gray-200">
                        <div class="flex items-center space-x-2 text-sm text-green-700">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="check-circle" class="lucide lucide-check-circle w-4 h-4" style="stroke-width: 1.5;"><path d="M21.801 10A10 10 0 1 1 17 3.335"></path><path d="m9 11 3 3L22 4"></path></svg>
                            <span>Split allocation is perfectly balanced</span>
                        </div>
                        <button class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-300 flex items-center space-x-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="check" class="lucide lucide-check w-4 h-4" style="stroke-width: 1.5;"><path d="M20 6 9 17l-5-5"></path></svg>
                            <span>Mark Validated</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Pagination -->
            <div class="animate-fade-in-up delay-600 mt-8">
                <div class="glass-effect rounded-2xl p-4 shadow-lg border border-white/20">
                    <div class="flex items-center justify-between">
                        <div class="text-sm text-gray-600">
                            Showing 1-2 of 89 invoices with splits
                        </div>
                        <div class="flex items-center space-x-2">
                            <button class="px-3 py-2 bg-gray-100 text-gray-400 rounded-lg cursor-not-allowed">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="chevron-left" class="lucide lucide-chevron-left w-4 h-4" style="stroke-width: 1.5;"><path d="m15 18-6-6 6-6"></path></svg>
                            </button>
                            <button class="px-3 py-2 bg-indigo-600 text-white rounded-lg">1</button>
                            <button class="px-3 py-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200">2</button>
                            <button class="px-3 py-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200">3</button>
                            <button class="px-3 py-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="chevron-right" class="lucide lucide-chevron-right w-4 h-4" style="stroke-width: 1.5;"><path d="m9 18 6-6-6-6"></path></svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<script>
// Initialize Lucide icons
lucide.createIcons();

// Tab switching functionality
function switchTab(tabName) {
    // Hide all tab contents
    document.getElementById('validation-content').classList.add('hidden');
    document.getElementById('split-audit-content').classList.add('hidden');

    // Remove active class from all tabs
    document.getElementById('validation-tab').classList.remove('active');
    document.getElementById('split-audit-tab').classList.remove('active');

    // Add gray text to inactive tabs
    document.getElementById('validation-tab').classList.add('text-gray-600');
    document.getElementById('split-audit-tab').classList.add('text-gray-600');

    // Show selected tab content and make tab active
    if (tabName === 'validation') {
        document.getElementById('validation-content').classList.remove('hidden');
        document.getElementById('validation-tab').classList.add('active');
        document.getElementById('validation-tab').classList.remove('text-gray-600');
    } else if (tabName === 'split-audit') {
        document.getElementById('split-audit-content').classList.remove('hidden');
        document.getElementById('split-audit-tab').classList.add('active');
        document.getElementById('split-audit-tab').classList.remove('text-gray-600');
    }
}

// Filter functionality for validation table
function filterTable(filterType) {
    // Remove active class from all filter buttons
    document.querySelectorAll('.filter-pill').forEach(btn => {
        btn.classList.remove('active');
    });

    // Add active class to clicked button
    document.getElementById('filter-' + filterType).classList.add('active');

    // Filter logic would go here in a real implementation
    console.log('Filtering by:', filterType);
}

// Filter functionality for split audit
function filterSplits(filterType) {
    // Remove active class from all split filter buttons
    document.querySelectorAll('[id^="split-filter-"]').forEach(btn => {
        btn.classList.remove('active');
    });

    // Add active class to clicked button
    document.getElementById('split-filter-' + filterType).classList.add('active');

    // Filter logic would go here in a real implementation
    console.log('Filtering splits by:', filterType);
}

// Editable cell functionality
function editCell(cell) {
    if (cell.classList.contains('editing')) return;

    const originalValue = cell.textContent.trim();
    cell.classList.add('editing');
    
    const input = document.createElement('input');
    input.type = 'text';
    input.value = originalValue;
    input.className = 'w-full px-2 py-1 border-0 outline-none bg-transparent';
    
    cell.innerHTML = '';
    cell.appendChild(input);
    input.focus();
    input.select();

    function saveEdit() {
        const newValue = input.value.trim();
        cell.classList.remove('editing');
        cell.innerHTML = newValue || originalValue;
        
        // Here you would typically send the update to the server
        console.log('Updated cell:', {
            field: cell.dataset.field,
            record: cell.dataset.record,
            oldValue: originalValue,
            newValue: newValue
        });
    }

    input.addEventListener('blur', saveEdit);
    input.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            saveEdit();
        } else if (e.key === 'Escape') {
            cell.classList.remove('editing');
            cell.innerHTML = originalValue;
        }
    });
}

// Fix all issues modal
function showFixAllModal() {
    alert('Fix All Issues workflow would be implemented here - this would show a modal with options to automatically resolve common validation issues.');
}

// Animate elements on page load
document.addEventListener('DOMContentLoaded', function() {
    setTimeout(() => {
        document.querySelectorAll('.opacity-0').forEach((el, index) => {
            setTimeout(() => {
                el.classList.remove('opacity-0');
            }, index * 100);
        });
    }, 100);
});
</script>


</body></html>
